<html>
<head>
    <title>Rich Settings</title>
    <link rel="stylesheet" type="text/css" href="../../extjs-4.0/resources/css/ext-all.css">
    <script type="text/javascript" src="../../extjs-4.0/ext-debug.js"></script>
    <script type="text/javascript" src="../../app.js"></script>
    <script type="text/javascript">
        CONFIG.centerConfig = {
            id: 'centerId',
            items: [
                {
                    html: '<p>Original center content</p><br/>' +
                            Html.elem('a', {
                                href: '#',
                                onclick: 'debug(); return false;'
                            }, 'Debug')
                }
            ],
            layout: 'fit'
        };
        Ext.onReady(function() {
            var LE = createApp();
        });

        function debug() {
            // Barfs...
//            Ext.require('LE.view.richsettings.Panel');
            var center = Ext.getCmp('centerId');
            center.removeAll();
            var dc = Html.a({href: '#', onclick: 'dynamicChange(); return false;'}, "Dynamic Change");
            log("dc", dc);
            var panel = Ext.create('LE.view.richsettings.Panel');
//            var panel = Ext.create('LE.view.richsettings.Panel', [
//                    "My very easy memory jingle",
//                    "saves us naming",
//                    "planets",
//                    dc
//            ]);
            log("Created panel", panel);
            center.add(panel);
            panel.setSettings([
                    "My very easy memory jingle",
                    "saves us naming",
                    "planets",
                    dc
            ]);
        }

        function dynamicChange() {
            var panels = Ext.ComponentQuery.query("richPanel");
            log('Dynamic Change :', panels);
            panels[0].setSettings([
                    'Settings',
                    'Changed'
            ]);
        }
    </script>
</head>
<body>
</body>
</html>