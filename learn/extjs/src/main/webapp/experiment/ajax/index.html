<html>
<head>
    <title>Ajax</title>
    <link rel="stylesheet" type="text/css" href="../../extjs-4.0/resources/css/ext-all.css">
    <script type="text/javascript" src="../../extjs-4.0/ext-debug.js"></script>
    <script type="text/javascript" src="../../app.js"></script>
    <script type="text/javascript">
        CONFIG.centerConfig = {
            items: [
                {
                    contentEl: 'contentId'
                },
                {
                    id: 'output',
                    items: {html: '<p>Nothing yet</p>'}
                }
            ]
        };
        Ext.onReady(function() {
            var LE = createApp();
        });

        function output(html) {
            var op = Ext.getCmp('output');
            op.removeAll();
            op.add(Ext.widget('panel', {html: html}));
        }

        function simpleRequest() {
            Ext.Ajax.request({
                url: '/echo',
                success: function(response, opts) {
                    var html = Ext.htmlEncode(response.responseText);
                    output(html);
                }
            });
        }

    </script>
</head>
<body>
<div id="contentId">
    <a href='#' onclick="output('<p>Yay!</p>'); return false;">Smoke Check</a><br/>
    <a href='#' onclick="simpleRequest(); return false;">Simple Request</a><br/>
</div>
</body>
</html>